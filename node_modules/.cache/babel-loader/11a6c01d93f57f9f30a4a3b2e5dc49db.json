{"remainingRequest":"C:\\Users\\User\\Desktop\\ipdc-main-project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User\\Desktop\\ipdc-main-project\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\User\\Desktop\\ipdc-main-project\\src\\store\\index.js","mtime":1582711508010},{"path":"C:\\Users\\User\\Desktop\\ipdc-main-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User\\Desktop\\ipdc-main-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXV0aDAgZnJvbSAnYXV0aDAtanMnOwppbXBvcnQgcm91dGVyIGZyb20gJy4uL3JvdXRlcic7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdXNlcklzQXV0aG9yaXplZDogZmFsc2UsCiAgICBhdXRoMDogbmV3IGF1dGgwLldlYkF1dGgoewogICAgICBkb21haW46IHByb2Nlc3MuZW52LlZVRV9BUFBfQVVUSDBfQ09ORklHX0RPTUFJTiwKICAgICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVVUSDBfQ09ORklHX0NMSUVOVElELAogICAgICByZWRpcmVjdFVyaTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9ET01BSU5VUkwgKyAnL2F1dGgwY2FsbGJhY2snLAogICAgICByZXNwb25zZVR5cGU6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVVUSDBfQ09ORklHX1JFU1BPTlNFVFlQRSwKICAgICAgYXVkaWVuY2U6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVVUSDBBVURJRU5DRSwKICAgICAgc2NvcGU6IHByb2Nlc3MuZW52LlZVRV9BUFBfQVVUSDBfQ09ORklHX1NDT1BFCiAgICB9KQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VySXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBzZXRVc2VySXNBdXRoZW50aWNhdGVkKHN0YXRlLCByZXBsYWNlbWVudCkgewogICAgICAvLyBjb25zb2xlLmxvZygnbWV0aG9kOiBzZXRVc2VySXNBdXRoZW50aWNhdGVkKCknKTsKICAgICAgc3RhdGUudXNlcklzQXV0aG9yaXplZCA9IHJlcGxhY2VtZW50OwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgYXV0aDBMb2dpbjogZnVuY3Rpb24gYXV0aDBMb2dpbihjb250ZXh0KSB7CiAgICAgIGNvbnNvbGUubG9nKCJpbiBhIHN0b3JlIGFjdGlvbiBuYW1lZCBhdXRoMExvZ2luIik7CiAgICAgIGNvbnRleHQuc3RhdGUuYXV0aDAuYXV0aG9yaXplKCk7CiAgICB9LAogICAgYXV0aDBIYW5kbGVBdXRoZW50aWNhdGlvbjogZnVuY3Rpb24gYXV0aDBIYW5kbGVBdXRoZW50aWNhdGlvbihjb250ZXh0KSB7CiAgICAgIGNvbnRleHQuc3RhdGUuYXV0aDAucGFyc2VIYXNoKGZ1bmN0aW9uIChlcnIsIGF1dGhSZXN1bHQpIHsKICAgICAgICBpZiAoYXV0aFJlc3VsdCAmJiBhdXRoUmVzdWx0LmFjY2Vzc1Rva2VuICYmIGF1dGhSZXN1bHQuaWRUb2tlbikgewogICAgICAgICAgdmFyIGV4cGlyZXNBdCA9IEpTT04uc3RyaW5naWZ5KGF1dGhSZXN1bHQuZXhwaXJlc0luICogMTAwMCArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoZW50aWNhdGlvbiBpbmZvcyA6ICcpOwogICAgICAgICAgY29uc29sZS5sb2coYXV0aFJlc3VsdCk7IC8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0ZXN0QXV0aFJlc3VsdCcsIGF1dGhSZXN1bHQpOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCdBdXRoZW50aWNhdGlvbiBpbmZvcyA6ICcpOyAvLyBzYXZlIHRoZSB0b2tlbnMgbG9jYWxseQoKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoMF9uaWNrbmFtZScsIGF1dGhSZXN1bHQuaWRUb2tlblBheWxvYWQubmlja25hbWUpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dGgwX2VtYWlsJywgYXV0aFJlc3VsdC5pZFRva2VuUGF5bG9hZC5uYW1lKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhY2Nlc3NfdG9rZW4nLCBhdXRoUmVzdWx0LmFjY2Vzc1Rva2VuKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZF90b2tlbicsIGF1dGhSZXN1bHQuaWRUb2tlbik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZXhwaXJlc19hdCcsIGV4cGlyZXNBdCk7CiAgICAgICAgICByb3V0ZXIucmVwbGFjZSgnL2Rhc2hib2FyZC1hdXRob3JpemVkJyk7IC8vIHJvdXRlci5yZXBsYWNlKCcvcGxhbmFuZHJlcG9ydHMnKTsKICAgICAgICB9IGVsc2UgaWYgKGVycikgewogICAgICAgICAgLy8gYWxlcnQoJ2xvZ2luIGZhaWxlZC4gRXJyb3IgI0tKTjgzOCcpOwogICAgICAgICAgcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpOwogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGF1dGgwTG9nb3V0OiBmdW5jdGlvbiBhdXRoMExvZ291dChjb250ZXh0KSB7CiAgICAgIC8vIE5vIG5lZWQgdG8gdXBkYXRlIHRoZSBiZWFyZXIgaW4gZ2xvYmFsIGF4aW9zQ29uZmlnIHRvIG51bGwgYmVjYXVzZSB3ZSBhcmUgcmVkaXJlY3Rpbmcgb3V0IG9mIHRoZSBhcHBsaWNhdGlvbgogICAgICAvLyBDbGVhciBBY2Nlc3MgVG9rZW4gYW5kIElEIFRva2VuIGZyb20gbG9jYWwgc3RvcmFnZQogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnYWNjZXNzX3Rva2VuJyk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdpZF90b2tlbicpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZXhwaXJlc19hdCcpOyAvLyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGxhbmFuZHJlcG9ydHNfcGxhbnNfbnVtYmVyJyk7IC8vIFBsYW5BbmRSZXBvcnQudnVlCiAgICAgIC8vIHJlZGlyZWN0IHRvIGF1dGgwIGxvZ291dCB0byBjb21wbGV0ZWx5IGxvZyB0aGUgdXNlciBvdXQKCiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9BVVRIMF9DT05GSUdfRE9NQUlOVVJMICsgIi92Mi9sb2dvdXQ/cmV0dXJuVG89IiArIHByb2Nlc3MuZW52LlZVRV9BUFBfRE9NQUlOVVJMICsgIi9sb2dpbiZjbGllbnRfaWQ9IiArIHByb2Nlc3MuZW52LlZVRV9BUFBfQVVUSDBfQ09ORklHX0NMSUVOVElEOwogICAgfQogICAgLyphdXRoMExvZ291dCAoY29udGV4dCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwOi8vbG9jYWxob3N0OjgwODAvJzsgCiAgICB9LCovCgogIH0sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"sources":["C:/Users/User/Desktop/ipdc-main-project/src/store/index.js"],"names":["Vue","Vuex","auth0","router","use","Store","state","userIsAuthorized","WebAuth","domain","process","env","VUE_APP_AUTH0_CONFIG_DOMAIN","clientID","VUE_APP_AUTH0_CONFIG_CLIENTID","redirectUri","VUE_APP_DOMAINURL","responseType","VUE_APP_AUTH0_CONFIG_RESPONSETYPE","audience","VUE_APP_AUTH0AUDIENCE","scope","VUE_APP_AUTH0_CONFIG_SCOPE","mutations","setUserIsAuthenticated","replacement","actions","auth0Login","context","console","log","authorize","auth0HandleAuthentication","parseHash","err","authResult","accessToken","idToken","expiresAt","JSON","stringify","expiresIn","Date","getTime","localStorage","setItem","idTokenPayload","nickname","name","replace","auth0Logout","removeItem","window","location","href","VUE_APP_AUTH0_CONFIG_DOMAINURL","modules"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,gBAAgB,EAAC,KADZ;AAELL,IAAAA,KAAK,EAAE,IAAIA,KAAK,CAACM,OAAV,CAAkB;AACvBC,MAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC,2BADG;AAEvBC,MAAAA,QAAQ,EAAEH,OAAO,CAACC,GAAR,CAAYG,6BAFC;AAGvBC,MAAAA,WAAW,EAAEL,OAAO,CAACC,GAAR,CAAYK,iBAAZ,GAAgC,gBAHtB;AAIvBC,MAAAA,YAAY,EAAEP,OAAO,CAACC,GAAR,CAAYO,iCAJH;AAKvBC,MAAAA,QAAQ,EAAET,OAAO,CAACC,GAAR,CAAYS,qBALC;AAMvBC,MAAAA,KAAK,EAAEX,OAAO,CAACC,GAAR,CAAYW;AANI,KAAlB;AAFF,GADqB;AAY5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,sBADS,kCACclB,KADd,EACqBmB,WADrB,EACiC;AACxC;AACAnB,MAAAA,KAAK,CAACC,gBAAN,GAAyBkB,WAAzB;AACD;AAJQ,GAZiB;AAkB5BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UADO,sBACIC,OADJ,EACY;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AACAF,MAAAA,OAAO,CAACtB,KAAR,CAAcJ,KAAd,CAAoB6B,SAApB;AACD,KAJM;AAKPC,IAAAA,yBALO,qCAKoBJ,OALpB,EAK6B;AAClCA,MAAAA,OAAO,CAACtB,KAAR,CAAcJ,KAAd,CAAoB+B,SAApB,CAA8B,UAACC,GAAD,EAAMC,UAAN,EAAqB;AACjD,YAAIA,UAAU,IAAIA,UAAU,CAACC,WAAzB,IAAwCD,UAAU,CAACE,OAAvD,EAAgE;AAC9D,cAAIC,SAAS,GAAGC,IAAI,CAACC,SAAL,CACdL,UAAU,CAACM,SAAX,GAAuB,IAAvB,GAA8B,IAAIC,IAAJ,GAAWC,OAAX,EADhB,CAAhB;AAGAd,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYK,UAAZ,EAL8D,CAM9D;;AACAN,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAP8D,CAQ9D;;AACAc,UAAAA,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAuCV,UAAU,CAACW,cAAX,CAA0BC,QAAjE;AACAH,UAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCV,UAAU,CAACW,cAAX,CAA0BE,IAA9D;AACAJ,UAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCV,UAAU,CAACC,WAAhD;AACAQ,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCV,UAAU,CAACE,OAA5C;AACAO,UAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCP,SAAnC;AAEAnC,UAAAA,MAAM,CAAC8C,OAAP,CAAe,uBAAf,EAf8D,CAgB9D;AACD,SAjBD,MAkBK,IAAIf,GAAJ,EAAS;AACZ;AACA/B,UAAAA,MAAM,CAAC8C,OAAP,CAAe,QAAf;AACApB,UAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD;AACF,OAxBD;AAyBD,KA/BM;AAgCPgB,IAAAA,WAhCO,uBAgCMtB,OAhCN,EAgCe;AACpB;AACA;AACAgB,MAAAA,YAAY,CAACO,UAAb,CAAwB,cAAxB;AACAP,MAAAA,YAAY,CAACO,UAAb,CAAwB,UAAxB;AACAP,MAAAA,YAAY,CAACO,UAAb,CAAwB,YAAxB,EALoB,CAMpB;AAEA;;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB5C,OAAO,CAACC,GAAR,CAAY4C,8BAAZ,GAA6C,sBAA7C,GAAsE7C,OAAO,CAACC,GAAR,CAAYK,iBAAlF,GAAsG,mBAAtG,GAA4HN,OAAO,CAACC,GAAR,CAAYG,6BAA/J;AACD;AACD;;;;AA3CO,GAlBmB;AAiE5B0C,EAAAA,OAAO,EAAE;AAjEmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport auth0 from 'auth0-js'\nimport router from '../router'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    userIsAuthorized:false,\n    auth0: new auth0.WebAuth({\n      domain: process.env.VUE_APP_AUTH0_CONFIG_DOMAIN, \n      clientID: process.env.VUE_APP_AUTH0_CONFIG_CLIENTID,\n      redirectUri: process.env.VUE_APP_DOMAINURL + '/auth0callback',  \n      responseType: process.env.VUE_APP_AUTH0_CONFIG_RESPONSETYPE,\n      audience: process.env.VUE_APP_AUTH0AUDIENCE,\n      scope: process.env.VUE_APP_AUTH0_CONFIG_SCOPE,\n    }), \n  },\n  mutations: {\n    setUserIsAuthenticated(state, replacement){\n      // console.log('method: setUserIsAuthenticated()');\n      state.userIsAuthorized = replacement;\n    }\n  },\n  actions: {\n    auth0Login(context){\n      console.log(\"in a store action named auth0Login\");\n      context.state.auth0.authorize();\n    },\n    auth0HandleAuthentication (context) {\n      context.state.auth0.parseHash((err, authResult) => {\n        if (authResult && authResult.accessToken && authResult.idToken) {\n          let expiresAt = JSON.stringify(\n            authResult.expiresIn * 1000 + new Date().getTime()\n          )\n          console.log('Authentication infos : ');\n          console.log(authResult);\n          // localStorage.setItem('testAuthResult', authResult);\n          console.log('Authentication infos : ');\n          // save the tokens locally\n          localStorage.setItem('auth0_nickname', authResult.idTokenPayload.nickname);\n          localStorage.setItem('auth0_email', authResult.idTokenPayload.name);\n          localStorage.setItem('access_token', authResult.accessToken);\n          localStorage.setItem('id_token', authResult.idToken);\n          localStorage.setItem('expires_at', expiresAt);  \n\n          router.replace('/dashboard-authorized');\n          // router.replace('/planandreports');\n        } \n        else if (err) {\n          // alert('login failed. Error #KJN838');\n          router.replace('/login');\n          console.log(err);\n        }\n      })\n    },\n    auth0Logout (context) {\n      // No need to update the bearer in global axiosConfig to null because we are redirecting out of the application\n      // Clear Access Token and ID Token from local storage\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('id_token');\n      localStorage.removeItem('expires_at');\n      // localStorage.removeItem('planandreports_plans_number'); // PlanAndReport.vue\n\n      // redirect to auth0 logout to completely log the user out\n      window.location.href = process.env.VUE_APP_AUTH0_CONFIG_DOMAINURL + \"/v2/logout?returnTo=\" + process.env.VUE_APP_DOMAINURL + \"/login&client_id=\" + process.env.VUE_APP_AUTH0_CONFIG_CLIENTID; \n    },  \n    /*auth0Logout (context) {\n      window.location.href = 'http://localhost:8080/'; \n    },*/\n  },\n  modules: {\n  }\n})\n"]}]}